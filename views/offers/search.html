<header class="ui-header">
  <h1 class="ui-header__heading">
    Search
  </h1>

  <div class="ui-header__buttonsset">
    <a href="" class="ui-popover__close icon-close"></a>
  </div>
</header>

<div class="ui-popover__wrap">
  <form name="frm_search" novalidate ng-submit="vm_offers.search($event); popover_search.close();">
    <fieldset>
      <label class="ui-textfield">
        <input type="text" ng-model="vm_offers.search_fields.Keywords" placeholder="Search for..." autocorrect="off" autocapitalize="off">
      </label>

      <label class="ui-select">
        <select name="categories" ng-model="vm_offers.search_fields.Categories" change="vm_offers.search_set_cat(event)">
          <option value="">Select Categorie</option>
          <option ng-repeat="categorie in vm_offers.categories" value="{{categorie.Id}}">{{categorie.Name}}</option>
        </select>
      </label>

      <ul class="ui-list ui-list--borderless" ng-repeat="categorie in vm_offers.categories" ng-if="(vm_offers.search_cat == categorie.Id)">
        <li class="ui-list__item--borderless" ng-repeat="subcategorie in categorie.Subcategories">
          <span ng-bind="subcategorie.Name"></span>

          <label class="ui-checkbox fr">
            <input type="checkbox" name="search_fields_subcategorie" value="{{subcategorie.Id}}">
            <span></span>
          </label>
        </li>
      </ul>

      <label class="ui-select">
        <select name="type" ng-model="vm_offers.search_fields.Type">
          <option value="">Select Type</option>
          <option ng-repeat="type in vm_offers.types" value="{{type.Id}}" ng-if="type.Name !== 'None'">
            {{type.Name}}
          </option>
        </select>
      </label>

      <button type="submit" class="ui-button ui-button--block">Search</button>
    </fieldset>
  </form>

</div>
